import*as e from"react";import t,{memo as r,forwardRef as n,useRef as o,useImperativeHandle as i,useState as a,useMemo as l,useCallback as c,useEffect as s,isValidElement as u}from"react";import f from"@tippyjs/react";import{jsx as d,jsxs as m,Fragment as p}from"react/jsx-runtime";import h from"clsx";import*as b from"prop-types";import g from"prop-types";import{styled as v}from"@mui/material/styles";import{Box as y}from"@mui/system";import I from"@mui/material/Icon";import{includes as S,replace as C,some as T,isEmpty as w,isBoolean as x,pick as P,map as z}from"lodash";import{Box as O,MenuItem as N,ListItemIcon as k,ListItemText as j,Divider as E,Menu as M,IconButton as W,Stack as A,styled as F,LinearProgress as H,Typography as D}from"@mui/material";import B from"zustand";import R from"immer";import{createNanoEvents as L}from"nanoevents";import{useDebounce as Y}from"react-use";import X from"@mui/material/Menu";import{ChevronRight as V}from"@mui/icons-material";function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}function U(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=["title","children"];function G(e){var t=e.title,r=e.children,n=U(e,q);if(!t)return r;var o=K({theme:"light",animation:"scale",content:t,trigger:"mouseenter"},n);/*#__PURE__*/return d(f,K({},o,{children:r}))}var J=/*#__PURE__*/r(G),Q=["theme"],Z=["children","className","size"],_=v(y)(function(e){var t=e.theme,r=U(e,Q);return{width:r.size,height:r.size,minWidth:r.size,minHeight:r.size,fontSize:r.size,lineHeight:r.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[r.color]}}),ee=/*#__PURE__*/n(function(e,t){if(!e.children.includes(":"))/*#__PURE__*/return d(I,K({ref:t},e));var r=e.children.replace(":",".svg#");/*#__PURE__*/return d(_,K({},e,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:h("shrink-0 fill-current ",e.className),ref:t,size:e.size,sx:e.sx,color:e.color,children:/*#__PURE__*/d("use",{xlinkHref:"assets/icons/"+r})}))});function te(e){var t=e.children,r=e.className,n=e.size,o=U(e,Z),i={children:t};return t&&S(t,"fontawesome-")&&(i.children=void 0,i.baseClassName="",i.className=C(t,"fontawesome-","fa-"),i.className=C(i.className,":"," fa-"),i.className=["w-inherit",i.className,r].join(" "),n&&(i.sx={width:n,height:n,minWidth:n,minHeight:n,fontSize:n})),r&&T(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],function(e){return S(r,e)})&&(i.baseClassName=""),/*#__PURE__*/d(ee,K({className:r},i,{size:n},o))}ee.propTypes={children:g.string,size:g.oneOfType([g.number,g.string]),sx:g.object,color:g.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},ee.defaultProps={children:"",size:24,sx:{},color:"inherit"};var re={};function ne(e,t){re[e]=t}function oe(e){var t=re[e.name];return t?/*#__PURE__*/d(t,K({},e)):/*#__PURE__*/d(O,{p:2,children:"Not Found"})}var ie=["leftIcon","rightIcon","label","MenuItemProps","className"],ae=v(N)({}),le=/*#__PURE__*/n(function(e,t){var r=e.leftIcon,n=e.rightIcon,o=e.label,i=e.className,a=U(e,ie);/*#__PURE__*/return m(ae,K({ref:t,className:i},a,{children:[r&&/*#__PURE__*/d(k,{children:r}),/*#__PURE__*/d(j,{children:o}),n&&/*#__PURE__*/d(k,{className:"flex justify-end",children:n})]}))}),ce=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],se=["ref"],ue=/*#__PURE__*/t.forwardRef(function(e,t){var r=e.parentMenuOpen,n=e.label,l=e.rightIcon,c=void 0===l?/*#__PURE__*/d(V,{color:"disabled",fontSize:"small"}):l,s=e.leftIcon,u=void 0===s?null:s,f=e.children,p=e.className,h=e.tabIndex,b=e.ContainerProps,g=void 0===b?{}:b,v=U(e,ce),y=g.ref,I=U(g,se),S=o(null);i(t,function(){return S.current});var C=o(null);i(y,function(){return C.current});var T,w=o(null),x=a(!1),P=x[1],z=function(){for(var e,t=C.current.ownerDocument.activeElement,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(w.current.children);!(e=r()).done;)if(e.value===t)return!0;return!1},O=x[0]&&r;return e.disabled||(T=void 0!==h?h:-1),/*#__PURE__*/m("div",K({},I,{ref:C,onFocus:function(e){e.target===C.current&&P(!0),I.onFocus&&I.onFocus(e)},tabIndex:T,onMouseEnter:function(e){P(!0),I.onMouseEnter&&I.onMouseEnter(e)},onMouseLeave:function(e){P(!1),I.onMouseLeave&&I.onMouseLeave(e)},onKeyDown:function(e){if("Escape"!==e.key){z()&&e.stopPropagation();var t=C.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&z()&&C.current.focus(),"ArrowRight"===e.key&&e.target===C.current&&e.target===t&&w.current.children[0].focus()}},children:[/*#__PURE__*/d(le,{MenuItemProps:v,className:p,ref:S,leftIcon:u,rightIcon:c,label:n}),/*#__PURE__*/d(X,{style:{pointerEvents:"none"},anchorEl:S.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:O,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:function(){P(!1)},children:/*#__PURE__*/d("div",{ref:w,style:{pointerEvents:"auto"},children:f})})]}))}),fe=["divider"],de=["items","callback"];function me(e){var t=e.onClose,r=e.open;return e.items.map(function(e,n){var o=e.divider,i=U(e,fe);if(o)/*#__PURE__*/return d(E,{sx:{my:.5}},n);var a=i.items,l=i.callback,c=U(i,de);return a&&a.length>0?/*#__PURE__*/d(ue,K({},c,{parentMenuOpen:r,children:/*#__PURE__*/d(me,{open:r,items:a,onClose:t})}),n):/*#__PURE__*/d(le,K({},c,{onClick:function(){t(),l&&l()}}),n)})}function pe(e){var t=e.position,r=e.items,n=e.children,i=e.onClose,u=o(null),f=a(null),p=f[0],h=f[1],b=l(function(){return null!==p},[p]),g=l(function(){return b?{top:p.mouseY,left:p.mouseX}:void 0},[b,p]),v=c(function(){i(),b&&h(null)},[b]);return s(function(){h(t)},[t]),/*#__PURE__*/m("div",{ref:u,onContextMenu:function(e){e.preventDefault(),h(null===p?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)},children:[/*#__PURE__*/d(M,{open:b,onClose:v,anchorReference:"anchorPosition",anchorPosition:g,disableAutoFocusItem:!0,children:!w(r)&&/*#__PURE__*/d(me,{open:b,items:r,onClose:v})}),n]})}me.propTypes={items:g.array},pe.propTypes={items:g.array};var he=["icon","label","visible","onClick","btnSize","iconSize","items","color"];function be(e){var t=e.icon,r=e.label,n=e.visible,o=void 0===n||n,i=e.onClick,c=e.btnSize,s=e.iconSize,u=e.items,f=void 0===u?[]:u,h=e.color;U(e,he);var b=x(e.tooltip)?r:e.tooltip,g=l(function(){return o&&t},[o,t]),v=a(null),y=v[0],I=v[1],S=Boolean(y),C=function(e,t){I(null),t&&t()},T=g&&/*#__PURE__*/d(W,{size:c,onClick:function(e){return w(f)?i&&i(e):I(e.currentTarget)},color:h,children:t&&/*#__PURE__*/d(te,{size:s,children:t})}),P=g&&!w(f)&&/*#__PURE__*/d(M,{open:S,anchorEl:y,onClose:function(e){return C()},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:f.map(function(e,t){/*#__PURE__*/return m(N,{onClick:function(t){return C(0,e.onClick)},children:[e.icon&&/*#__PURE__*/d(k,{children:/*#__PURE__*/d(te,{children:e.icon})}),e.label&&/*#__PURE__*/d(j,{children:e.label})]},t)})});/*#__PURE__*/return m(p,b&&g?{children:[/*#__PURE__*/d(J,{title:b,children:T}),P]}:{children:[T,P]})}function ge(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(var n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}be.defautProps={iconSize:18};var ve=["case","defaultCase"];function ye(e){var t,r=e.case,n=e.defaultCase,o=U(e,ve);/*#__PURE__*/return u(r)?r:function(e){return"function"==typeof e&&!!e.prototype.isReactComponent}(t=r)||function(e){return"function"==typeof e&&String(e).includes("return React.createElement")}(t)?/*#__PURE__*/d(r,{}):/*#__PURE__*/d(n,K({},o,r))}function Ie(e){var t=e.sx,r=e.contentProps,n=e.leftItems,o=e.leftContentProps,i=e.centerItems,a=e.centerContentProps,l=e.rightItems,c=e.rightContentProps,s=P(e,["btnSize","iconSize"]);/*#__PURE__*/return m(A,{sx:t,direction:"row",justifyContent:"space-between",alignItems:"center",children:[/*#__PURE__*/d(A,K({direction:"row"},r,o,{children:n.length>0&&n.map(function(e,t){/*#__PURE__*/return d(ye,K({case:e,defaultCase:be},s),t)})})),/*#__PURE__*/d(A,K({direction:"row"},r,a,{children:i.length>0&&i.map(function(e,t){/*#__PURE__*/return d(ye,K({case:e,defaultCase:be},s),t)})})),/*#__PURE__*/d(A,K({direction:"row"},r,c,{children:l.length>0&&l.map(function(e,t){/*#__PURE__*/return d(ye,K({case:e,defaultCase:be},s),t)})}))]})}function Se(e){var t=e.items,r=e.anchorEl,n=e.setAnchorEl,o=Boolean(r),i=function(e,t){n(null),t&&t()};/*#__PURE__*/return d(M,{open:o,anchorEl:r,onClose:function(e){return i()},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==t?void 0:t.map(function(e,t){/*#__PURE__*/return m(N,{onClick:function(t){return i(0,e.onClick)},children:[e.icon&&/*#__PURE__*/d(k,{children:/*#__PURE__*/d(te,{children:e.icon})}),e.label&&/*#__PURE__*/d(j,{children:e.label})]},t)})})}Ie.propTypes={leftItems:g.array,centerItems:g.array,rightItems:g.array},Ie.defaultProps={sx:{p:1},contentProps:{spacing:.5},leftItems:[],centerItems:[],rightItems:[]};var Ce=/*#__PURE__*/e.forwardRef(function(e,t){var r=e.tooltip,n=e.color,o=e.icon,i=e.onClick,c=e.children,s=e.visible,u=e.items,f=a(null),h=f[0],b=f[1],g=l(function(){return s&&o},[s,o]),v={sx:P(e,["fontSize"])};return g&&/*#__PURE__*/m(p,{children:[/*#__PURE__*/d(J,{title:r,children:/*#__PURE__*/d(W,{onClick:function(e){return w(u)?i&&i(e):b(e.currentTarget)},color:n,ref:t,children:c||/*#__PURE__*/d(te,K({},v,{children:o}))})}),g&&!w(u)&&/*#__PURE__*/d(Se,{items:u,anchorEl:h,setAnchorEl:b})]})});Ce.defaultProps={visible:!0,onClick:function(){}},Ce.propTypes={tooltip:g.string,color:g.string,icon:g.string,visible:g.bool,fontSize:g.number,onClick:g.func,items:g.array};var Te=Ce,we=B(function(e){return{components:{},registerComponent:function(t,r){return e(R(function(e){e.components[t]=r}))}}}),xe=we.getState().components;function Pe(e,t){we.getState().registerComponent(e,t)}function ze(e){var t=we(function(t){return t.components[e.type]},ge);return t?/*#__PURE__*/d(t,K({},e)):null}var Oe=["theme"],Ne=F("div")(function(e){var t=e.theme,r=U(e,Oe);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.paper,"& .PageSide-wrapper":K({display:"flex",flexDirection:"row",flex:"1 1 auto",minWidth:0,height:"100%"},"content"===r.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0}),"& .PageSide-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:"1 1 auto"},"& .PageSide-content":{display:"flex",flexDirection:"column",flex:"1 1 auto",minHeight:0,overflowY:"auto",backgroundColor:t.palette.background.default}}});function ke(e){var t,r,n,o,i=l(function(){return T([e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems],function(e){return!w(e)})},[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),a=l(function(){return K({},e.toolbarProps,{leftItems:e.leftToolbarItems,centerItems:e.centerToolbarItems,rightItems:e.rightToolbarItems})},[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),c=l(function(){return T([e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems],function(e){return!w(e)})},[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),s=l(function(){return K({},e.subToolbarProps,{leftItems:e.leftSubToolbarItems,centerItems:e.centerSubToolbarItems,rightItems:e.rightSubToolbarItems})},[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),u={title:e.headerTitle};/*#__PURE__*/return m(Ne,{className:h("PageSide-root","PageSide-scroll-"+e.scroll,e.className),scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:[/*#__PURE__*/m("div",{className:"PageSide-wrapper",children:[e.leftSidebarContent&&/*#__PURE__*/d("div",{children:"leftSidebarContent"}),/*#__PURE__*/m(A,K({},e.contentWrapperProps,{className:h("PageSide-contentWrapper",null==(t=e.contentWrapperProps)?void 0:t.className),divider:/*#__PURE__*/d(E,{}),children:[e.header&&(x(e.header)?/*#__PURE__*/d(ze,K({type:"PageSideHeader"},u)):e.header),e.subHeader&&e.subHeader,(e.toolbar||i)&&(null!=(r=e.toolbar)?r:/*#__PURE__*/d(Ie,K({},a))),(e.subToolbar||c)&&(null!=(n=e.subToolbar)?n:/*#__PURE__*/d(Ie,K({},s))),e.content&&/*#__PURE__*/m("div",{className:h(h("PageSide-content container",null==(o=e.contentProps)?void 0:o.className)),children:[e.loading&&/*#__PURE__*/d(H,{}),e.content]}),e.footer&&/*#__PURE__*/d("div",{children:"Footer"})]}))]}),e.rightSidebarContent&&/*#__PURE__*/d("div",{children:"rightSidebarContent"})]})}function je(e){var t=P(e,["direction","spacing"]),r=P(e,["size","color","fontSize","visible"]);/*#__PURE__*/return d(A,K({},t,{children:e.items.map(function(e,t){/*#__PURE__*/return d(Te,K({},r,e),t)})}))}ke.propTypes={contentWrapperProps:b.object,leftSidebarContent:b.node,leftSidebarVariant:b.node,rightSidebarContent:b.node,rightSidebarVariant:b.node,header:b.oneOfType([b.node,b.bool]),subHeader:b.node,toolbar:b.node,toolbarProps:b.object,leftToolbarItems:b.array,centerToolbarItems:b.array,rightToolbarItems:b.array,subToolbar:b.node,subToolbarProps:b.object,leftSubToolbarItems:b.array,centerSubToolbarItems:b.array,rightSubToolbarItems:b.array,content:b.node,scroll:b.oneOf(["normal","page","content"]),leftSidebarOpen:b.bool,rightSidebarOpen:b.bool,leftSidebarWidth:b.number,rightSidebarWidth:b.number,rightSidebarOnClose:b.func,leftSidebarOnClose:b.func},ke.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240},je.defaultProps={direction:"row",spacing:.5},ke.propTypes={direction:g.string,spacing:g.number,items:g.array};var Ee=["theme"],Me=["content","classes","className"],We=v(O)(function(e){var t=e.theme,r=U(e,Ee);return{display:"flex",justifyContent:"center",alignContent:"center",color:"white",borderRadius:10,padding:"0 6px",minWidth:20,height:20,backgroundColor:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[r.color]}}),Ae=/*#__PURE__*/n(function(e,t){var r=e.content,n=e.classes,o=e.className,i=U(e,Me);/*#__PURE__*/return d(We,K({className:h(null==n?void 0:n.root,o)},i,{ref:t,children:r}))});Ae.defaultProps={component:D};var Fe=Ae,He=L();function De(e){s(function(){return z(e,function(e,t){return He.on(t,e)}),function(){z(e,function(e,t){return delete He[t]})}},[He,e])}function Be(e,t){void 0===e&&(e="");var r=(void 0===t?{}:t).wait,n=void 0===r?500:r,o=a(e),i=o[0],l=o[1],c=a(""),s=c[0],u=c[1];return Y(function(){return u(i)},n,[i]),[s,l,{value:i,onChange:function(e){return l(e.target.value)}}]}export{Fe as Badge,ze as Component,pe as ContextMenu,te as FuseSvgIcon,Te as IconButton,je as IconButtonGroup,oe as Layout,ke as PageSide,Ie as Toolbar,be as ToolbarItem,J as Tooltip,xe as components,He as emitter,re as layoutComponents,Pe as registerComponent,ne as registerLayout,Be as useDebouncedInput,De as useEvents};
//# sourceMappingURL=index.mjs.map
