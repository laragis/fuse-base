import*as e from"react";import t,{memo as n,forwardRef as r,useRef as o,useImperativeHandle as i,useState as a,useMemo as l,useCallback as c,useEffect as s,isValidElement as u}from"react";import f from"@tippyjs/react";import{isMobile as d}from"react-device-detect";import{jsx as m,jsxs as p,Fragment as h}from"react/jsx-runtime";import b from"clsx";import*as g from"prop-types";import v from"prop-types";import{styled as y}from"@mui/material/styles";import{Box as I}from"@mui/system";import S from"@mui/material/Icon";import{includes as C,replace as T,some as w,isEmpty as P,isBoolean as x,pick as z,reject as O,isArray as N,map as k}from"lodash";import{Box as j,MenuItem as E,ListItemIcon as M,ListItemText as W,Divider as A,Menu as F,IconButton as H,Stack as D,styled as B,LinearProgress as R,Typography as Y}from"@mui/material";import X from"zustand";import L from"immer";import{createNanoEvents as V}from"nanoevents";import{useDebounce as K}from"react-use";import U from"@mui/material/Menu";import{ChevronRight as $}from"@mui/icons-material";function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=["title","children"];function Z(e){var t=e.title,n=e.children,r=G(e,Q);if(!t)return n;var o=q({theme:"light",animation:"scale",content:t,trigger:"mouseenter",disabled:d},r);/*#__PURE__*/return m(f,q({},o,{children:n}))}var _=/*#__PURE__*/n(Z),ee=["theme"],te=["children","className","size"],ne=y(I)(function(e){var t=e.theme,n=G(e,ee);return{width:n.size,height:n.size,minWidth:n.size,minHeight:n.size,fontSize:n.size,lineHeight:n.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[n.color]}}),re=/*#__PURE__*/r(function(e,t){if(!e.children.includes(":"))/*#__PURE__*/return m(S,q({ref:t},e));var n=e.children.replace(":",".svg#");/*#__PURE__*/return m(ne,q({},e,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:b("shrink-0 fill-current ",e.className),ref:t,size:e.size,sx:e.sx,color:e.color,children:/*#__PURE__*/m("use",{xlinkHref:"assets/icons/"+n})}))});function oe(e){var t=e.children,n=e.className,r=e.size,o=G(e,te),i={children:t};return t&&C(t,"fontawesome-")&&(i.children=void 0,i.baseClassName="",i.className=T(t,"fontawesome-","fa-"),i.className=T(i.className,":"," fa-"),i.className=["w-inherit",i.className,n].join(" "),r&&(i.sx={width:r,height:r,minWidth:r,minHeight:r,fontSize:r})),n&&w(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],function(e){return C(n,e)})&&(i.baseClassName=""),/*#__PURE__*/m(re,q({className:n},i,{size:r},o))}re.propTypes={children:v.string,size:v.oneOfType([v.number,v.string]),sx:v.object,color:v.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},re.defaultProps={children:"",size:24,sx:{},color:"inherit"};var ie={};function ae(e,t){ie[e]=t}function le(e){var t=ie[e.name];return t?/*#__PURE__*/m(t,q({},e)):/*#__PURE__*/m(j,{p:2,children:"Not Found"})}var ce=["leftIcon","rightIcon","label","MenuItemProps","className","visible"],se=y(E)({}),ue=/*#__PURE__*/r(function(e,t){var n=e.leftIcon,r=e.rightIcon,o=e.label,i=e.className,a=G(e,ce);/*#__PURE__*/return p(se,q({ref:t,className:i},a,{children:[n&&/*#__PURE__*/m(M,{children:n}),/*#__PURE__*/m(W,{children:o}),r&&/*#__PURE__*/m(M,{className:"flex justify-end",children:r})]}))}),fe=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],de=["ref"],me=/*#__PURE__*/t.forwardRef(function(e,t){var n=e.parentMenuOpen,r=e.label,l=e.rightIcon,c=void 0===l?/*#__PURE__*/m($,{color:"disabled",fontSize:"small"}):l,s=e.leftIcon,u=void 0===s?null:s,f=e.children,d=e.className,h=e.tabIndex,b=e.ContainerProps,g=void 0===b?{}:b,v=G(e,fe),y=g.ref,I=G(g,de),S=o(null);i(t,function(){return S.current});var C=o(null);i(y,function(){return C.current});var T,w=o(null),P=a(!1),x=P[1],z=function(){for(var e,t=C.current.ownerDocument.activeElement,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e))){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(w.current.children);!(e=n()).done;)if(e.value===t)return!0;return!1},O=P[0]&&n;return e.disabled||(T=void 0!==h?h:-1),/*#__PURE__*/p("div",q({},I,{ref:C,onFocus:function(e){e.target===C.current&&x(!0),I.onFocus&&I.onFocus(e)},tabIndex:T,onMouseEnter:function(e){x(!0),I.onMouseEnter&&I.onMouseEnter(e)},onMouseLeave:function(e){x(!1),I.onMouseLeave&&I.onMouseLeave(e)},onKeyDown:function(e){if("Escape"!==e.key){z()&&e.stopPropagation();var t=C.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&z()&&C.current.focus(),"ArrowRight"===e.key&&e.target===C.current&&e.target===t&&w.current.children[0].focus()}},children:[/*#__PURE__*/m(ue,{MenuItemProps:v,className:d,ref:S,leftIcon:u,rightIcon:c,label:r}),/*#__PURE__*/m(U,{style:{pointerEvents:"none"},anchorEl:S.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:O,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:function(){x(!1)},children:/*#__PURE__*/m("div",{ref:w,style:{pointerEvents:"auto"},children:f})})]}))}),pe=["divider"],he=["items","onClick"];function be(e){var t=e.onClose,n=e.open;return e.items.map(function(e,r){var o=e.divider,i=G(e,pe);if(o)/*#__PURE__*/return m(A,{sx:{my:.5}},r);var a=i.items,l=i.onClick,c=G(i,he);return a&&a.length>0?/*#__PURE__*/m(me,q({},c,{parentMenuOpen:n,children:/*#__PURE__*/m(be,{open:n,items:a,onClose:t})}),r):/*#__PURE__*/m(ue,q({},c,{onClick:function(){t(),l&&l()}}),r)})}function ge(e){var t=e.position,n=e.items,r=e.children,i=e.onClose,u=o(null),f=a(null),d=f[0],h=f[1],b=l(function(){return null!==d},[d]),g=l(function(){return b?{top:d.mouseY,left:d.mouseX}:void 0},[b,d]),v=c(function(){i&&i(),b&&h(null)},[b]);return s(function(){t&&h({mouseX:t.clientX+2,mouseY:t.clientY-6})},[t]),/*#__PURE__*/p("div",{ref:u,onContextMenu:function(e){e.preventDefault(),h(null===d?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)},children:[!P(n)&&/*#__PURE__*/m(F,{open:b,onClose:v,anchorReference:"anchorPosition",anchorPosition:g,disableAutoFocusItem:!0,children:/*#__PURE__*/m(be,{open:b,items:n,onClose:v})}),r]})}be.propTypes={items:v.array},ge.propTypes={items:v.array};var ve=["icon","label","visible","onClick","btnSize","iconSize","items","color"];function ye(e){var t=e.icon,n=e.label,r=e.visible,o=void 0===r||r,i=e.onClick,c=e.btnSize,s=e.iconSize,u=e.items,f=void 0===u?[]:u,d=e.color;G(e,ve);var b=x(e.tooltip)?n:e.tooltip,g=l(function(){return o&&t},[o,t]),v=a(null),y=v[0],I=v[1],S=Boolean(y),C=function(e,t){I(null),t&&t()},T=g&&/*#__PURE__*/m(H,{size:c,onClick:function(e){return P(f)?i&&i(e):I(e.currentTarget)},color:d,children:t&&/*#__PURE__*/m(oe,{size:s,children:t})}),w=g&&!P(f)&&/*#__PURE__*/m(F,{open:S,anchorEl:y,onClose:function(e){return C()},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:f.map(function(e,t){/*#__PURE__*/return p(E,{onClick:function(t){return C(0,e.onClick)},children:[e.icon&&/*#__PURE__*/m(M,{children:/*#__PURE__*/m(oe,{children:e.icon})}),e.label&&/*#__PURE__*/m(W,{children:e.label})]},t)})});/*#__PURE__*/return p(h,b&&g?{children:[/*#__PURE__*/m(_,{title:b,children:T}),w]}:{children:[T,w]})}function Ie(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}ye.defautProps={iconSize:18};var Se=["case","defaultCase"];function Ce(e){var t,n=e.case,r=e.defaultCase,o=G(e,Se);/*#__PURE__*/return u(n)?n:function(e){return"function"==typeof e&&!!e.prototype.isReactComponent}(t=n)||function(e){return"function"==typeof e&&String(e).includes("return React.createElement")}(t)?/*#__PURE__*/m(n,{}):/*#__PURE__*/m(r,q({},o,n))}function Te(e){var t=e.sx,n=e.contentProps,r=e.leftItems,o=e.leftContentProps,i=e.centerItems,a=e.centerContentProps,l=e.rightItems,c=e.rightContentProps,s=z(e,["btnSize","iconSize"]);/*#__PURE__*/return p(D,{sx:t,direction:"row",justifyContent:"space-between",alignItems:"center",children:[/*#__PURE__*/m(D,q({direction:"row"},n,o,{children:r.length>0&&r.map(function(e,t){/*#__PURE__*/return m(Ce,q({case:e,defaultCase:ye},s),t)})})),/*#__PURE__*/m(D,q({direction:"row"},n,a,{children:i.length>0&&i.map(function(e,t){/*#__PURE__*/return m(Ce,q({case:e,defaultCase:ye},s),t)})})),/*#__PURE__*/m(D,q({direction:"row"},n,c,{children:l.length>0&&l.map(function(e,t){/*#__PURE__*/return m(Ce,q({case:e,defaultCase:ye},s),t)})}))]})}function we(e){var t=e.items,n=e.anchorEl,r=e.setAnchorEl,o=Boolean(n),i=function(e,t){r(null),t&&t()};/*#__PURE__*/return m(F,{open:o,anchorEl:n,onClose:function(e){return i()},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==t?void 0:t.map(function(e,t){/*#__PURE__*/return p(E,{onClick:function(t){return i(0,e.onClick)},children:[e.icon&&/*#__PURE__*/m(M,{children:/*#__PURE__*/m(oe,{children:e.icon})}),e.label&&/*#__PURE__*/m(W,{children:e.label})]},t)})})}Te.propTypes={leftItems:v.array,centerItems:v.array,rightItems:v.array},Te.defaultProps={sx:{p:1},contentProps:{spacing:.5},leftItems:[],centerItems:[],rightItems:[]};var Pe=/*#__PURE__*/e.forwardRef(function(e,t){var n=e.tooltip,r=e.color,o=e.icon,i=e.onClick,c=e.children,s=e.visible,u=e.items,f=e.type,d=e.disabled,b=a(null),g=b[0],v=b[1],y=l(function(){return O(u,function(e){return!1===e.visible})},[u]),I=l(function(){return N(u)?!P(y):s},[s,u,y]),S=l(function(){return I&&o},[I,o]),C={sx:z(e,["fontSize"])};return S&&/*#__PURE__*/p(h,{children:[/*#__PURE__*/m(_,{title:n,children:/*#__PURE__*/m(H,{onClick:function(e){return P(y)?i&&i(e):v(e.currentTarget)},color:r,type:f,ref:t,disabled:d,children:c||/*#__PURE__*/m(oe,q({},C,{children:o}))})}),S&&!P(y)&&/*#__PURE__*/m(we,{items:y,anchorEl:g,setAnchorEl:v})]})});Pe.defaultProps={visible:!0,onClick:function(){}},Pe.propTypes={tooltip:v.string,color:v.string,icon:v.string,visible:v.bool,fontSize:v.number,onClick:v.func,items:v.array};var xe=Pe,ze=X(function(e){return{components:{},registerComponent:function(t,n){return e(L(function(e){e.components[t]=n}))}}}),Oe=ze.getState().components;function Ne(e,t){ze.getState().registerComponent(e,t)}function ke(e){var t=ze(function(t){return t.components[e.type]},Ie);return t?/*#__PURE__*/m(t,q({},e)):null}var je=["theme"],Ee=B("div")(function(e){var t=e.theme,n=G(e,je);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.paper,"& .PageSide-wrapper":q({display:"flex",flexDirection:"row",flex:"1 1 auto",minWidth:0,height:"100%"},"content"===n.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0}),"& .PageSide-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:"1 1 auto"},"& .PageSide-content":{display:"flex",flexDirection:"column",flex:"1 1 auto",minHeight:0,overflowY:"auto",backgroundColor:t.palette.background.default}}});function Me(e){var t,n,r,o,i=l(function(){return w([e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems],function(e){return!P(e)})},[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),a=l(function(){return q({},e.toolbarProps,{leftItems:e.leftToolbarItems,centerItems:e.centerToolbarItems,rightItems:e.rightToolbarItems})},[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),c=l(function(){return w([e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems],function(e){return!P(e)})},[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),s=l(function(){return q({},e.subToolbarProps,{leftItems:e.leftSubToolbarItems,centerItems:e.centerSubToolbarItems,rightItems:e.rightSubToolbarItems})},[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),u={title:e.headerTitle};/*#__PURE__*/return p(Ee,{className:b("PageSide-root","PageSide-scroll-"+e.scroll,e.className),scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:[/*#__PURE__*/p("div",{className:"PageSide-wrapper",children:[e.leftSidebarContent&&/*#__PURE__*/m("div",{children:"leftSidebarContent"}),/*#__PURE__*/p(D,q({},e.contentWrapperProps,{className:b("PageSide-contentWrapper",null==(t=e.contentWrapperProps)?void 0:t.className),divider:/*#__PURE__*/m(A,{}),children:[e.header&&(x(e.header)?/*#__PURE__*/m(ke,q({type:"PageSideHeader"},u)):e.header),e.subHeader&&e.subHeader,(e.toolbar||i)&&(null!=(n=e.toolbar)?n:/*#__PURE__*/m(Te,q({},a))),(e.subToolbar||c)&&(null!=(r=e.subToolbar)?r:/*#__PURE__*/m(Te,q({},s))),e.content&&/*#__PURE__*/p("div",{className:b(b("PageSide-content container",null==(o=e.contentProps)?void 0:o.className)),children:[e.loading&&/*#__PURE__*/m(R,{}),e.content]}),e.footer&&/*#__PURE__*/m("div",{children:"Footer"})]}))]}),e.rightSidebarContent&&/*#__PURE__*/m("div",{children:"rightSidebarContent"})]})}function We(e){var t=z(e,["direction","spacing"]),n=z(e,["size","color","fontSize","visible"]);/*#__PURE__*/return m(D,q({},t,{children:e.items.map(function(e,t){/*#__PURE__*/return m(xe,q({},n,e),t)})}))}Me.propTypes={contentWrapperProps:g.object,leftSidebarContent:g.node,leftSidebarVariant:g.node,rightSidebarContent:g.node,rightSidebarVariant:g.node,header:g.oneOfType([g.node,g.bool]),subHeader:g.node,toolbar:g.node,toolbarProps:g.object,leftToolbarItems:g.array,centerToolbarItems:g.array,rightToolbarItems:g.array,subToolbar:g.node,subToolbarProps:g.object,leftSubToolbarItems:g.array,centerSubToolbarItems:g.array,rightSubToolbarItems:g.array,content:g.node,scroll:g.oneOf(["normal","page","content"]),leftSidebarOpen:g.bool,rightSidebarOpen:g.bool,leftSidebarWidth:g.number,rightSidebarWidth:g.number,rightSidebarOnClose:g.func,leftSidebarOnClose:g.func},Me.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240},We.defaultProps={direction:"row",spacing:.5},Me.propTypes={direction:v.string,spacing:v.number,items:v.array};var Ae=["theme"],Fe=["content","classes","className"],He=y(j)(function(e){var t=e.theme,n=G(e,Ae);return{display:"inline-block",justifyContent:"center",alignContent:"center",color:"white",borderRadius:10,padding:"0 6px",minWidth:20,height:20,backgroundColor:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[n.color]}}),De=/*#__PURE__*/r(function(e,t){var n=e.content,r=e.classes,o=e.className,i=G(e,Fe);/*#__PURE__*/return m(He,q({className:b(null==r?void 0:r.root,o)},i,{ref:t,children:n}))});De.defaultProps={component:Y};var Be=De,Re=V();function Ye(e){s(function(){return k(e,function(e,t){return Re.on(t,e)}),function(){k(e,function(e,t){return delete Re[t]})}},[Re,e])}function Xe(e,t){void 0===e&&(e="");var n=(void 0===t?{}:t).wait,r=void 0===n?500:n,o=a(e),i=o[0],l=o[1],c=a(""),s=c[0],u=c[1];return K(function(){return u(i)},r,[i]),[s,l,{value:i,onChange:function(e){return l(e.target.value)}}]}export{Be as Badge,ke as Component,ge as ContextMenu,oe as FuseSvgIcon,xe as IconButton,We as IconButtonGroup,le as Layout,Me as PageSide,Te as Toolbar,ye as ToolbarItem,_ as Tooltip,Oe as components,Re as emitter,ie as layoutComponents,Ne as registerComponent,ae as registerLayout,Xe as useDebouncedInput,Ye as useEvents};
//# sourceMappingURL=index.mjs.map
