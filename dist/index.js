import*as e from"react";import t,{memo as r,forwardRef as o,useRef as n,useImperativeHandle as i,useState as l,useMemo as a,useCallback as s,useEffect as c,isValidElement as u}from"react";import m from"@tippyjs/react";import{jsx as d,jsxs as p,Fragment as f}from"react/jsx-runtime";import h from"clsx";import*as b from"prop-types";import g from"prop-types";import{styled as I}from"@mui/material/styles";import{Box as y}from"@mui/system";import S from"@mui/material/Icon";import{includes as v,replace as T,some as C,isEmpty as P,isBoolean as w,pick as x,map as z}from"lodash";import{Box as O,MenuItem as N,ListItemIcon as k,ListItemText as j,Divider as M,Menu as W,IconButton as E,Stack as F,styled as H,LinearProgress as D}from"@mui/material";import R from"zustand";import B from"immer";import{createNanoEvents as A}from"nanoevents";import L from"@mui/material/Menu";import{ChevronRight as Y}from"@mui/icons-material";function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},X.apply(this,arguments)}function V(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(r=i[o])>=0||(n[r]=e[r]);return n}const $=["title","children"];function K(e){let{title:t,children:r}=e,o=V(e,$);if(!t)return r;const n=X({theme:"light",animation:"scale",content:t,trigger:"mouseenter"},o);/*#__PURE__*/return d(m,X({},n,{children:r}))}var q=/*#__PURE__*/r(K);const G=["theme"],J=["children","className","size"],Q=I(y)(e=>{let{theme:t}=e,r=V(e,G);return{width:r.size,height:r.size,minWidth:r.size,minHeight:r.size,fontSize:r.size,lineHeight:r.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[r.color]}}),U=/*#__PURE__*/o((e,t)=>{if(!e.children.includes(":"))/*#__PURE__*/return d(S,X({ref:t},e));const r=e.children.replace(":",".svg#");/*#__PURE__*/return d(Q,X({},e,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:h("shrink-0 fill-current ",e.className),ref:t,size:e.size,sx:e.sx,color:e.color,children:/*#__PURE__*/d("use",{xlinkHref:`assets/icons/${r}`})}))});function Z(e){let{children:t,className:r,size:o}=e,n=V(e,J),i={children:t};return t&&v(t,"fontawesome-")&&(i.children=void 0,i.baseClassName="",i.className=T(t,"fontawesome-","fa-"),i.className=T(i.className,":"," fa-"),i.className=["w-inherit",i.className,r].join(" "),o&&(i.sx={width:o,height:o,minWidth:o,minHeight:o,fontSize:o})),r&&C(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],e=>v(r,e))&&(i.baseClassName=""),/*#__PURE__*/d(U,X({className:r},i,{size:o},n))}U.propTypes={children:g.string,size:g.oneOfType([g.number,g.string]),sx:g.object,color:g.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},U.defaultProps={children:"",size:24,sx:{},color:"inherit"};const _={};function ee(e,t){_[e]=t}function te(e){const t=_[e.name];return t?/*#__PURE__*/d(t,X({},e)):/*#__PURE__*/d(O,{p:2,children:"Not Found"})}const re=["leftIcon","rightIcon","label","MenuItemProps","className"],oe=I(N)({});var ne=/*#__PURE__*/o((e,t)=>{let{leftIcon:r,rightIcon:o,label:n,className:i}=e,l=V(e,re);/*#__PURE__*/return p(oe,X({ref:t,className:i},l,{children:[r&&/*#__PURE__*/d(k,{children:r}),/*#__PURE__*/d(j,{children:n}),o&&/*#__PURE__*/d(k,{className:"flex justify-end",children:o})]}))});const ie=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],le=["ref"];var ae=/*#__PURE__*/t.forwardRef(function(e,t){const{parentMenuOpen:r,label:o,rightIcon:a=/*#__PURE__*/d(Y,{color:"disabled",fontSize:"small"}),leftIcon:s=null,children:c,className:u,tabIndex:m,ContainerProps:f={}}=e,h=V(e,ie),{ref:b}=f,g=V(f,le),I=n(null);i(t,()=>I.current);const y=n(null);i(b,()=>y.current);const S=n(null),[v,T]=l(!1),C=()=>{const e=y.current.ownerDocument.activeElement;for(const t of S.current.children)if(t===e)return!0;return!1},P=v&&r;let w;return e.disabled||(w=void 0!==m?m:-1),/*#__PURE__*/p("div",X({},g,{ref:y,onFocus:e=>{e.target===y.current&&T(!0),g.onFocus&&g.onFocus(e)},tabIndex:w,onMouseEnter:e=>{T(!0),g.onMouseEnter&&g.onMouseEnter(e)},onMouseLeave:e=>{T(!1),g.onMouseLeave&&g.onMouseLeave(e)},onKeyDown:e=>{if("Escape"===e.key)return;C()&&e.stopPropagation();const t=y.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&C()&&y.current.focus(),"ArrowRight"===e.key&&e.target===y.current&&e.target===t&&S.current.children[0].focus()},children:[/*#__PURE__*/d(ne,{MenuItemProps:h,className:u,ref:I,leftIcon:s,rightIcon:a,label:o}),/*#__PURE__*/d(L,{style:{pointerEvents:"none"},anchorEl:I.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:P,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:()=>{T(!1)},children:/*#__PURE__*/d("div",{ref:S,style:{pointerEvents:"auto"},children:c})})]}))});const se=["divider"],ce=["items","callback"];function ue({items:e,onClose:t,open:r}){return e.map((e,o)=>{let{divider:n}=e,i=V(e,se);if(n)/*#__PURE__*/return d(M,{sx:{my:.5}},o);const{items:l,callback:a}=i,s=V(i,ce);return l&&l.length>0?/*#__PURE__*/d(ae,X({},s,{parentMenuOpen:r,children:/*#__PURE__*/d(ue,{open:r,items:l,onClose:t})}),o):/*#__PURE__*/d(ne,X({},s,{onClick:()=>{t(),a&&a()}}),o)})}function me({position:e,items:t,children:r,onClose:o}){const i=n(null),[u,m]=l(null),f=a(()=>null!==u,[u]),h=a(()=>f?{top:u.mouseY,left:u.mouseX}:void 0,[f,u]),b=s(()=>{o(),f&&m(null)},[f]);return c(()=>{m(e)},[e]),/*#__PURE__*/p("div",{ref:i,onContextMenu:e=>{e.preventDefault(),m(null===u?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)},children:[/*#__PURE__*/d(W,{open:f,onClose:b,anchorReference:"anchorPosition",anchorPosition:h,disableAutoFocusItem:!0,children:!P(t)&&/*#__PURE__*/d(ue,{open:f,items:t,onClose:b})}),r]})}ue.propTypes={items:g.array},me.propTypes={items:g.array};const de=["icon","label","visible","onClick","btnSize","iconSize","items","color"];function pe(e){const{icon:t,label:r,visible:o=!0,onClick:n,btnSize:i,iconSize:s,items:c=[],color:u}=e;V(e,de);const m=w(e.tooltip)?r:e.tooltip,h=a(()=>o&&t,[o,t]),[b,g]=l(null),I=Boolean(b),y=(e,t)=>{g(null),t&&t()},S=h&&/*#__PURE__*/d(E,{size:i,onClick:e=>P(c)?n&&n(e):g(e.currentTarget),color:u,children:t&&/*#__PURE__*/d(Z,{size:s,children:t})}),v=h&&!P(c)&&/*#__PURE__*/d(W,{open:I,anchorEl:b,onClose:e=>y(),transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:c.map((e,t)=>/*#__PURE__*/p(N,{onClick:t=>y(0,e.onClick),children:[e.icon&&/*#__PURE__*/d(k,{children:/*#__PURE__*/d(Z,{children:e.icon})}),e.label&&/*#__PURE__*/d(j,{children:e.label})]},t))});/*#__PURE__*/return p(f,m&&h?{children:[/*#__PURE__*/d(q,{title:m,children:S}),v]}:{children:[S,v]})}function fe(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Object.is(e[r[o]],t[r[o]]))return!1;return!0}pe.defautProps={iconSize:18};const he=["case","defaultCase"];function be(e){let{case:t,defaultCase:r}=e,o=V(e,he);/*#__PURE__*/return u(t)?t:function(e){return"function"==typeof e&&!!e.prototype.isReactComponent}(n=t)||function(e){return"function"==typeof e&&String(e).includes("return React.createElement")}(n)?/*#__PURE__*/d(t,{}):/*#__PURE__*/d(r,X({},o,t));var n}function ge(e){const{sx:t,contentProps:r,leftItems:o,leftContentProps:n,centerItems:i,centerContentProps:l,rightItems:a,rightContentProps:s}=e,c=x(e,["btnSize","iconSize"]);/*#__PURE__*/return p(F,{sx:t,direction:"row",justifyContent:"space-between",alignItems:"center",children:[/*#__PURE__*/d(F,X({direction:"row"},r,n,{children:o.length>0&&o.map((e,t)=>/*#__PURE__*/d(be,X({case:e,defaultCase:pe},c),t))})),/*#__PURE__*/d(F,X({direction:"row"},r,l,{children:i.length>0&&i.map((e,t)=>/*#__PURE__*/d(be,X({case:e,defaultCase:pe},c),t))})),/*#__PURE__*/d(F,X({direction:"row"},r,s,{children:a.length>0&&a.map((e,t)=>/*#__PURE__*/d(be,X({case:e,defaultCase:pe},c),t))}))]})}ge.propTypes={leftItems:g.array,centerItems:g.array,rightItems:g.array},ge.defaultProps={sx:{p:1},contentProps:{spacing:.5},leftItems:[],centerItems:[],rightItems:[]};const Ie=R(e=>({components:{},registerComponent:(t,r)=>e(B(e=>{e.components[t]=r}))})),ye=Ie.getState().components;function Se(e,t){Ie.getState().registerComponent(e,t)}function ve(e){const t=Ie(t=>t.components[e.type],fe);return t?/*#__PURE__*/d(t,X({},e)):null}const Te=["theme"],Ce=H("div")(e=>{let{theme:t}=e,r=V(e,Te);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.paper,"& .PageSide-wrapper":X({display:"flex",flexDirection:"row",flex:"1 1 auto",minWidth:0,height:"100%"},"content"===r.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0}),"& .PageSide-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:"1 1 auto"},"& .PageSide-content":{display:"flex",flexDirection:"column",flex:"1 1 auto",minHeight:0,overflowY:"auto",backgroundColor:t.palette.background.default}}});function Pe(e){var t,r,o,n;const i=a(()=>C([e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems],e=>!P(e)),[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),l=a(()=>X({},e.toolbarProps,{leftItems:e.leftToolbarItems,centerItems:e.centerToolbarItems,rightItems:e.rightToolbarItems}),[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),s=a(()=>C([e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems],e=>!P(e)),[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),c=a(()=>X({},e.subToolbarProps,{leftItems:e.leftSubToolbarItems,centerItems:e.centerSubToolbarItems,rightItems:e.rightSubToolbarItems}),[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),u={title:e.headerTitle};/*#__PURE__*/return p(Ce,{className:h("PageSide-root",`PageSide-scroll-${e.scroll}`,e.className),scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:[/*#__PURE__*/p("div",{className:"PageSide-wrapper",children:[e.leftSidebarContent&&/*#__PURE__*/d("div",{children:"leftSidebarContent"}),/*#__PURE__*/p(F,X({},e.contentWrapperProps,{className:h("PageSide-contentWrapper",null==(t=e.contentWrapperProps)?void 0:t.className),divider:/*#__PURE__*/d(M,{}),children:[e.header&&(w(e.header)?/*#__PURE__*/d(ve,X({type:"PageSideHeader"},u)):e.header),e.subHeader&&e.subHeader,(e.toolbar||i)&&(null!=(r=e.toolbar)?r:/*#__PURE__*/d(ge,X({},l))),(e.subToolbar||s)&&(null!=(o=e.subToolbar)?o:/*#__PURE__*/d(ge,X({},c))),e.content&&/*#__PURE__*/p("div",{className:h(h("PageSide-content container",null==(n=e.contentProps)?void 0:n.className)),children:[e.loading&&/*#__PURE__*/d(D,{}),e.content]}),e.footer&&/*#__PURE__*/d("div",{children:"Footer"})]}))]}),e.rightSidebarContent&&/*#__PURE__*/d("div",{children:"rightSidebarContent"})]})}Pe.propTypes={contentWrapperProps:b.object,leftSidebarContent:b.node,leftSidebarVariant:b.node,rightSidebarContent:b.node,rightSidebarVariant:b.node,header:b.oneOfType([b.node,b.bool]),subHeader:b.node,toolbar:b.node,toolbarProps:b.object,leftToolbarItems:b.array,centerToolbarItems:b.array,rightToolbarItems:b.array,subToolbar:b.node,subToolbarProps:b.object,leftSubToolbarItems:b.array,centerSubToolbarItems:b.array,rightSubToolbarItems:b.array,content:b.node,scroll:b.oneOf(["normal","page","content"]),leftSidebarOpen:b.bool,rightSidebarOpen:b.bool,leftSidebarWidth:b.number,rightSidebarWidth:b.number,rightSidebarOnClose:b.func,leftSidebarOnClose:b.func},Pe.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240};const we=/*#__PURE__*/e.forwardRef((e,t)=>{const{tooltip:r,color:o,icon:n,onClick:i={},children:l,visible:a}=e,s={sx:x(e,["fontSize"])};return a&&/*#__PURE__*/d(q,{title:r,children:/*#__PURE__*/d(E,{onClick:i,color:o,ref:t,children:l||/*#__PURE__*/d(Z,X({},s,{children:n}))})})});we.defaultProps={visible:!0},we.propTypes={tooltip:g.string,color:g.string,icon:g.string,visible:g.bool,fontSize:g.number,onClick:g.func};var xe=we;function ze(e){const t=x(e,["direction","spacing"]),r=x(e,["size","color","fontSize","visible"]);/*#__PURE__*/return d(F,X({},t,{children:e.items.map((e,t)=>/*#__PURE__*/d(xe,X({},r,e),t))}))}ze.defaultProps={direction:"row",spacing:.5},Pe.propTypes={direction:g.string,spacing:g.number,items:g.array};var Oe=A();function Ne(e){c(function(){return z(e,(e,t)=>Oe.on(t,e)),function(){z(e,(e,t)=>delete Oe[t])}},[Oe,e])}export{ve as Component,me as ContextMenu,Z as FuseSvgIcon,xe as IconButton,ze as IconButtonGroup,te as Layout,Pe as PageSide,ge as Toolbar,pe as ToolbarItem,q as Tooltip,ye as components,Oe as emitter,_ as layoutComponents,Se as registerComponent,ee as registerLayout,Ne as useEvents};
//# sourceMappingURL=index.js.map
