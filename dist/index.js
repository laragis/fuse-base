import e,{memo as t,forwardRef as n,useRef as r,useImperativeHandle as o,useState as a,useMemo as i,useCallback as s,useEffect as l}from"react";import c from"@tippyjs/react";import m from"clsx";import u from"prop-types";import{styled as f}from"@mui/material/styles";import{Box as p}from"@mui/system";import d from"@mui/material/Icon";import{includes as h,replace as g,some as E,isEmpty as v}from"lodash";import{Box as y,MenuItem as b,ListItemIcon as w,ListItemText as N,Divider as I,Menu as x}from"@mui/material";import z from"@mui/material/Menu";import{ChevronRight as M}from"@mui/icons-material";function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}const k=["title","children"];var F=t(function(t){let{title:n,children:r}=t,o=O(t,k);if(!n)return r;const a=C({theme:"light",animation:"scale",content:n,trigger:"mouseenter"},o);/*#__PURE__*/return e.createElement(c,a,r)});const P=["theme"],j=["children","className","size"],R=f(p)(e=>{let{theme:t}=e,n=O(e,P);return{width:n.size,height:n.size,minWidth:n.size,minHeight:n.size,fontSize:n.size,lineHeight:n.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[n.color]}}),T=n((t,n)=>{if(!t.children.includes(":"))/*#__PURE__*/return e.createElement(d,C({ref:n},t));const r=t.children.replace(":",".svg#");/*#__PURE__*/return e.createElement(R,C({},t,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:m("shrink-0 fill-current ",t.className),ref:n,size:t.size,sx:t.sx,color:t.color}),/*#__PURE__*/e.createElement("use",{xlinkHref:`assets/icons/${r}`}))});function A(t){let{children:n,className:r,size:o}=t,a=O(t,j),i={children:n};return n&&h(n,"fontawesome-")&&(i.children=void 0,i.baseClassName="",i.className=g(n,"fontawesome-","fa-"),i.className=g(i.className,":"," fa-"),i.className=["w-inherit",i.className,r].join(" "),o&&(i.sx={width:o,height:o,minWidth:o,minHeight:o,fontSize:o})),r&&E(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],e=>h(r,e))&&(i.baseClassName=""),/*#__PURE__*/e.createElement(T,C({className:r},i,{size:o},a))}T.propTypes={children:u.string,size:u.oneOfType([u.number,u.string]),sx:u.object,color:u.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},T.defaultProps={children:"",size:24,sx:{},color:"inherit"};const D={};function H(e,t){D[e]=t}function L(e){const t=D[e.name];return t?/*#__PURE__*/React.createElement(t,e):/*#__PURE__*/React.createElement(y,{p:2},"Not Found")}const S=["leftIcon","rightIcon","label","MenuItemProps","className"],X=f(b)({});var Y=n((t,n)=>{let{leftIcon:r,rightIcon:o,label:a,className:i}=t,s=O(t,S);/*#__PURE__*/return e.createElement(X,C({ref:n,className:i},s),r&&/*#__PURE__*/e.createElement(w,null,r),/*#__PURE__*/e.createElement(N,null,a),o&&/*#__PURE__*/e.createElement(w,{className:"flex justify-end"},o))});const B=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],W=["ref"];var K=e.forwardRef(function(t,n){const{parentMenuOpen:i,label:s,rightIcon:l=/*#__PURE__*/e.createElement(M,{color:"disabled",fontSize:"small"}),leftIcon:c=null,children:m,className:u,tabIndex:f,ContainerProps:p={}}=t,d=O(t,B),{ref:h}=p,g=O(p,W),E=r(null);o(n,()=>E.current);const v=r(null);o(h,()=>v.current);const y=r(null),[b,w]=a(!1),N=()=>{const e=v.current.ownerDocument.activeElement;for(const t of y.current.children)if(t===e)return!0;return!1},I=b&&i;let x;return t.disabled||(x=void 0!==f?f:-1),/*#__PURE__*/e.createElement("div",C({},g,{ref:v,onFocus:e=>{e.target===v.current&&w(!0),g.onFocus&&g.onFocus(e)},tabIndex:x,onMouseEnter:e=>{w(!0),g.onMouseEnter&&g.onMouseEnter(e)},onMouseLeave:e=>{w(!1),g.onMouseLeave&&g.onMouseLeave(e)},onKeyDown:e=>{if("Escape"===e.key)return;N()&&e.stopPropagation();const t=v.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&N()&&v.current.focus(),"ArrowRight"===e.key&&e.target===v.current&&e.target===t&&y.current.children[0].focus()}}),/*#__PURE__*/e.createElement(Y,{MenuItemProps:d,className:u,ref:E,leftIcon:c,rightIcon:l,label:s}),/*#__PURE__*/e.createElement(z,{style:{pointerEvents:"none"},anchorEl:E.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:I,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:()=>{w(!1)}},/*#__PURE__*/e.createElement("div",{ref:y,style:{pointerEvents:"auto"}},m)))});const $=["divider"],q=["items","callback"];function G({items:t,onClose:n,open:r}){return t.map((t,o)=>{let{divider:a}=t,i=O(t,$);if(a)/*#__PURE__*/return e.createElement(I,{key:o,sx:{my:.5}});const{items:s,callback:l}=i,c=O(i,q);return s&&s.length>0?/*#__PURE__*/e.createElement(K,C({key:o},c,{parentMenuOpen:r}),/*#__PURE__*/e.createElement(G,{open:r,items:s,onClose:n})):/*#__PURE__*/e.createElement(Y,C({key:o},c,{onClick:()=>{n(),l&&l()}}))})}function J({position:t,items:n,children:o,onClose:c}){const m=r(null),[u,f]=a(null),p=i(()=>null!==u,[u]),d=i(()=>p?{top:u.mouseY,left:u.mouseX}:void 0,[p,u]),h=s(()=>{c(),p&&f(null)},[p]);return l(()=>{f(t)},[t]),/*#__PURE__*/e.createElement("div",{ref:m,onContextMenu:e=>{e.preventDefault(),f(null===u?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}},/*#__PURE__*/e.createElement(x,{open:p,onClose:h,anchorReference:"anchorPosition",anchorPosition:d,disableAutoFocusItem:!0},!v(n)&&/*#__PURE__*/e.createElement(G,{open:p,items:n,onClose:h})),o)}G.propTypes={items:u.array},J.propTypes={items:u.array};export{J as ContextMenu,A as FuseSvgIcon,L as Layout,F as Tooltip,D as layoutComponents,H as registerLayout};
//# sourceMappingURL=index.js.map
