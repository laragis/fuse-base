import e,{memo as t,forwardRef as n,useRef as r,useImperativeHandle as o,useState as i,useMemo as a,useCallback as l,useEffect as s}from"react";import c from"@tippyjs/react";import m from"clsx";import u from"prop-types";import{styled as p}from"@mui/material/styles";import{Box as f}from"@mui/system";import d from"@mui/material/Icon";import{includes as h,replace as g,some as E,isEmpty as y,isBoolean as b,pick as v}from"lodash";import{Box as z,MenuItem as I,ListItemIcon as w,ListItemText as C,Divider as x,Menu as N,IconButton as k,Stack as M}from"@mui/material";import O from"@mui/material/Menu";import{ChevronRight as P}from"@mui/icons-material";function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}const F=["title","children"];var T=t(function(t){let{title:n,children:r}=t,o=j(t,F);if(!n)return r;const i=S({theme:"light",animation:"scale",content:n,trigger:"mouseenter"},o);/*#__PURE__*/return e.createElement(c,i,r)});const R=["theme"],A=["children","className","size"],D=p(f)(e=>{let{theme:t}=e,n=j(e,R);return{width:n.size,height:n.size,minWidth:n.size,minHeight:n.size,fontSize:n.size,lineHeight:n.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[n.color]}}),H=n((t,n)=>{if(!t.children.includes(":"))/*#__PURE__*/return e.createElement(d,S({ref:n},t));const r=t.children.replace(":",".svg#");/*#__PURE__*/return e.createElement(D,S({},t,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:m("shrink-0 fill-current ",t.className),ref:n,size:t.size,sx:t.sx,color:t.color}),/*#__PURE__*/e.createElement("use",{xlinkHref:`assets/icons/${r}`}))});function L(t){let{children:n,className:r,size:o}=t,i=j(t,A),a={children:n};return n&&h(n,"fontawesome-")&&(a.children=void 0,a.baseClassName="",a.className=g(n,"fontawesome-","fa-"),a.className=g(a.className,":"," fa-"),a.className=["w-inherit",a.className,r].join(" "),o&&(a.sx={width:o,height:o,minWidth:o,minHeight:o,fontSize:o})),r&&E(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],e=>h(r,e))&&(a.baseClassName=""),/*#__PURE__*/e.createElement(H,S({className:r},a,{size:o},i))}H.propTypes={children:u.string,size:u.oneOfType([u.number,u.string]),sx:u.object,color:u.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},H.defaultProps={children:"",size:24,sx:{},color:"inherit"};const X={};function Y(e,t){X[e]=t}function B(e){const t=X[e.name];return t?/*#__PURE__*/React.createElement(t,e):/*#__PURE__*/React.createElement(z,{p:2},"Not Found")}const W=["leftIcon","rightIcon","label","MenuItemProps","className"],K=p(I)({});var $=n((t,n)=>{let{leftIcon:r,rightIcon:o,label:i,className:a}=t,l=j(t,W);/*#__PURE__*/return e.createElement(K,S({ref:n,className:a},l),r&&/*#__PURE__*/e.createElement(w,null,r),/*#__PURE__*/e.createElement(C,null,i),o&&/*#__PURE__*/e.createElement(w,{className:"flex justify-end"},o))});const q=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],G=["ref"];var J=e.forwardRef(function(t,n){const{parentMenuOpen:a,label:l,rightIcon:s=/*#__PURE__*/e.createElement(P,{color:"disabled",fontSize:"small"}),leftIcon:c=null,children:m,className:u,tabIndex:p,ContainerProps:f={}}=t,d=j(t,q),{ref:h}=f,g=j(f,G),E=r(null);o(n,()=>E.current);const y=r(null);o(h,()=>y.current);const b=r(null),[v,z]=i(!1),I=()=>{const e=y.current.ownerDocument.activeElement;for(const t of b.current.children)if(t===e)return!0;return!1},w=v&&a;let C;return t.disabled||(C=void 0!==p?p:-1),/*#__PURE__*/e.createElement("div",S({},g,{ref:y,onFocus:e=>{e.target===y.current&&z(!0),g.onFocus&&g.onFocus(e)},tabIndex:C,onMouseEnter:e=>{z(!0),g.onMouseEnter&&g.onMouseEnter(e)},onMouseLeave:e=>{z(!1),g.onMouseLeave&&g.onMouseLeave(e)},onKeyDown:e=>{if("Escape"===e.key)return;I()&&e.stopPropagation();const t=y.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&I()&&y.current.focus(),"ArrowRight"===e.key&&e.target===y.current&&e.target===t&&b.current.children[0].focus()}}),/*#__PURE__*/e.createElement($,{MenuItemProps:d,className:u,ref:E,leftIcon:c,rightIcon:s,label:l}),/*#__PURE__*/e.createElement(O,{style:{pointerEvents:"none"},anchorEl:E.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:w,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:()=>{z(!1)}},/*#__PURE__*/e.createElement("div",{ref:b,style:{pointerEvents:"auto"}},m)))});const Q=["divider"],U=["items","callback"];function V({items:t,onClose:n,open:r}){return t.map((t,o)=>{let{divider:i}=t,a=j(t,Q);if(i)/*#__PURE__*/return e.createElement(x,{key:o,sx:{my:.5}});const{items:l,callback:s}=a,c=j(a,U);return l&&l.length>0?/*#__PURE__*/e.createElement(J,S({key:o},c,{parentMenuOpen:r}),/*#__PURE__*/e.createElement(V,{open:r,items:l,onClose:n})):/*#__PURE__*/e.createElement($,S({key:o},c,{onClick:()=>{n(),s&&s()}}))})}function Z({position:t,items:n,children:o,onClose:c}){const m=r(null),[u,p]=i(null),f=a(()=>null!==u,[u]),d=a(()=>f?{top:u.mouseY,left:u.mouseX}:void 0,[f,u]),h=l(()=>{c(),f&&p(null)},[f]);return s(()=>{p(t)},[t]),/*#__PURE__*/e.createElement("div",{ref:m,onContextMenu:e=>{e.preventDefault(),p(null===u?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)}},/*#__PURE__*/e.createElement(N,{open:f,onClose:h,anchorReference:"anchorPosition",anchorPosition:d,disableAutoFocusItem:!0},!y(n)&&/*#__PURE__*/e.createElement(V,{open:f,items:n,onClose:h})),o)}V.propTypes={items:u.array},Z.propTypes={items:u.array};const _=["icon","label","visible","onClick","btnSize","iconSize"];function ee(t){const{icon:n,label:r,visible:o=!0,onClick:i,btnSize:l,iconSize:s}=t;j(t,_);const c=b(t.tooltip)?r:t.tooltip,m=a(()=>o&&n,[o,n]),u=m&&/*#__PURE__*/e.createElement(k,{size:l,onClick:i},n&&/*#__PURE__*/e.createElement(L,{size:s},n));return c&&m?/*#__PURE__*/e.createElement(T,{title:c},u):u}function te(t){const{sx:n,leftItems:r=[],leftContentProps:o,centerItems:i=[],centerContentProps:a,rightItems:l=[],rightContentProps:s}=t,c=v(t,["btnSize","iconSize"]);/*#__PURE__*/return e.createElement(M,{sx:n,direction:"row",justifyContent:"space-between",alignItems:"center"},/*#__PURE__*/e.createElement(M,S({direction:"row"},o),r.length>0&&r.map((t,n)=>/*#__PURE__*/e.createElement(ee,S({key:n},c,t)))),/*#__PURE__*/e.createElement(M,S({direction:"row"},a),i.length>0&&i.map((t,n)=>/*#__PURE__*/e.createElement(ee,S({key:n},c,t)))),/*#__PURE__*/e.createElement(M,S({direction:"row"},s),l.length>0&&l.map((t,n)=>/*#__PURE__*/e.createElement(ee,S({key:n},c,t)))))}ee.defautProps={onClick:()=>{},iconSize:18},te.propTypes={leftItems:u.array,centerItems:u.array,rightItems:u.array};export{Z as ContextMenu,L as FuseSvgIcon,B as Layout,te as Toolbar,T as Tooltip,X as layoutComponents,Y as registerLayout};
//# sourceMappingURL=index.js.map
