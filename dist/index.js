import e,{memo as t,forwardRef as r,useRef as o,useImperativeHandle as n,useState as i,useMemo as l,useCallback as a,useEffect as s}from"react";import c from"@tippyjs/react";import{jsx as m,jsxs as u,Fragment as d}from"react/jsx-runtime";import h from"clsx";import*as p from"prop-types";import f from"prop-types";import{styled as b}from"@mui/material/styles";import{Box as g}from"@mui/system";import I from"@mui/material/Icon";import{includes as S,replace as y,some as v,isEmpty as T,isBoolean as w,pick as x}from"lodash";import{Box as C,MenuItem as P,ListItemIcon as z,ListItemText as O,Divider as N,Menu as j,IconButton as k,Stack as M}from"@mui/material";import W from"zustand";import E from"immer";import{createNanoEvents as F}from"nanoevents";import H from"@mui/material/Menu";import{ChevronRight as D}from"@mui/icons-material";function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},A.apply(this,arguments)}function L(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t.indexOf(r=i[o])>=0||(n[r]=e[r]);return n}const Y=["title","children"];function B(e){let{title:t,children:r}=e,o=L(e,Y);if(!t)return r;const n=A({theme:"light",animation:"scale",content:t,trigger:"mouseenter"},o);/*#__PURE__*/return m(c,A({},n,{children:r}))}var R=/*#__PURE__*/t(B);const X=["theme"],V=["children","className","size"],$=b(g)(e=>{let{theme:t}=e,r=L(e,X);return{width:r.size,height:r.size,minWidth:r.size,minHeight:r.size,fontSize:r.size,lineHeight:r.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[r.color]}}),K=/*#__PURE__*/r((e,t)=>{if(!e.children.includes(":"))/*#__PURE__*/return m(I,A({ref:t},e));const r=e.children.replace(":",".svg#");/*#__PURE__*/return m($,A({},e,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:h("shrink-0 fill-current ",e.className),ref:t,size:e.size,sx:e.sx,color:e.color,children:/*#__PURE__*/m("use",{xlinkHref:`assets/icons/${r}`})}))});function q(e){let{children:t,className:r,size:o}=e,n=L(e,V),i={children:t};return t&&S(t,"fontawesome-")&&(i.children=void 0,i.baseClassName="",i.className=y(t,"fontawesome-","fa-"),i.className=y(i.className,":"," fa-"),i.className=["w-inherit",i.className,r].join(" "),o&&(i.sx={width:o,height:o,minWidth:o,minHeight:o,fontSize:o})),r&&v(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],e=>S(r,e))&&(i.baseClassName=""),/*#__PURE__*/m(K,A({className:r},i,{size:o},n))}K.propTypes={children:f.string,size:f.oneOfType([f.number,f.string]),sx:f.object,color:f.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},K.defaultProps={children:"",size:24,sx:{},color:"inherit"};const G={};function J(e,t){G[e]=t}function Q(e){const t=G[e.name];return t?/*#__PURE__*/m(t,A({},e)):/*#__PURE__*/m(C,{p:2,children:"Not Found"})}const U=["leftIcon","rightIcon","label","MenuItemProps","className"],Z=b(P)({});var _=/*#__PURE__*/r((e,t)=>{let{leftIcon:r,rightIcon:o,label:n,className:i}=e,l=L(e,U);/*#__PURE__*/return u(Z,A({ref:t,className:i},l,{children:[r&&/*#__PURE__*/m(z,{children:r}),/*#__PURE__*/m(O,{children:n}),o&&/*#__PURE__*/m(z,{className:"flex justify-end",children:o})]}))});const ee=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],te=["ref"];var re=/*#__PURE__*/e.forwardRef(function(e,t){const{parentMenuOpen:r,label:l,rightIcon:a=/*#__PURE__*/m(D,{color:"disabled",fontSize:"small"}),leftIcon:s=null,children:c,className:d,tabIndex:h,ContainerProps:p={}}=e,f=L(e,ee),{ref:b}=p,g=L(p,te),I=o(null);n(t,()=>I.current);const S=o(null);n(b,()=>S.current);const y=o(null),[v,T]=i(!1),w=()=>{const e=S.current.ownerDocument.activeElement;for(const t of y.current.children)if(t===e)return!0;return!1},x=v&&r;let C;return e.disabled||(C=void 0!==h?h:-1),/*#__PURE__*/u("div",A({},g,{ref:S,onFocus:e=>{e.target===S.current&&T(!0),g.onFocus&&g.onFocus(e)},tabIndex:C,onMouseEnter:e=>{T(!0),g.onMouseEnter&&g.onMouseEnter(e)},onMouseLeave:e=>{T(!1),g.onMouseLeave&&g.onMouseLeave(e)},onKeyDown:e=>{if("Escape"===e.key)return;w()&&e.stopPropagation();const t=S.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&w()&&S.current.focus(),"ArrowRight"===e.key&&e.target===S.current&&e.target===t&&y.current.children[0].focus()},children:[/*#__PURE__*/m(_,{MenuItemProps:f,className:d,ref:I,leftIcon:s,rightIcon:a,label:l}),/*#__PURE__*/m(H,{style:{pointerEvents:"none"},anchorEl:I.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:x,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:()=>{T(!1)},children:/*#__PURE__*/m("div",{ref:y,style:{pointerEvents:"auto"},children:c})})]}))});const oe=["divider"],ne=["items","callback"];function ie({items:e,onClose:t,open:r}){return e.map((e,o)=>{let{divider:n}=e,i=L(e,oe);if(n)/*#__PURE__*/return m(N,{sx:{my:.5}},o);const{items:l,callback:a}=i,s=L(i,ne);return l&&l.length>0?/*#__PURE__*/m(re,A({},s,{parentMenuOpen:r,children:/*#__PURE__*/m(ie,{open:r,items:l,onClose:t})}),o):/*#__PURE__*/m(_,A({},s,{onClick:()=>{t(),a&&a()}}),o)})}function le({position:e,items:t,children:r,onClose:n}){const c=o(null),[d,h]=i(null),p=l(()=>null!==d,[d]),f=l(()=>p?{top:d.mouseY,left:d.mouseX}:void 0,[p,d]),b=a(()=>{n(),p&&h(null)},[p]);return s(()=>{h(e)},[e]),/*#__PURE__*/u("div",{ref:c,onContextMenu:e=>{e.preventDefault(),h(null===d?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)},children:[/*#__PURE__*/m(j,{open:p,onClose:b,anchorReference:"anchorPosition",anchorPosition:f,disableAutoFocusItem:!0,children:!T(t)&&/*#__PURE__*/m(ie,{open:p,items:t,onClose:b})}),r]})}ie.propTypes={items:f.array},le.propTypes={items:f.array};const ae=["icon","label","visible","onClick","btnSize","iconSize","items","color"];function se(e){const{icon:t,label:r,visible:o=!0,onClick:n,btnSize:a,iconSize:s,items:c=[],color:h}=e;L(e,ae);const p=w(e.tooltip)?r:e.tooltip,f=l(()=>o&&t,[o,t]),[b,g]=i(null),I=Boolean(b),S=(e,t)=>{g(null),t&&t()},y=f&&/*#__PURE__*/m(k,{size:a,onClick:e=>T(c)?n&&n(e):g(e.currentTarget),color:h,children:t&&/*#__PURE__*/m(q,{size:s,children:t})}),v=f&&!T(c)&&/*#__PURE__*/m(j,{open:I,anchorEl:b,onClose:e=>S(),transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:c.map((e,t)=>/*#__PURE__*/u(P,{onClick:t=>S(0,e.onClick),children:[e.icon&&/*#__PURE__*/m(z,{children:/*#__PURE__*/m(q,{children:e.icon})}),e.label&&/*#__PURE__*/m(O,{children:e.label})]},t))});/*#__PURE__*/return u(d,p&&f?{children:[/*#__PURE__*/m(R,{title:p,children:y}),v]}:{children:[y,v]})}function ce(e){const{sx:t,contentProps:r,leftItems:o,leftContentProps:n,centerItems:i,centerContentProps:l,rightItems:a,rightContentProps:s}=e,c=x(e,["btnSize","iconSize"]);/*#__PURE__*/return u(M,{sx:t,direction:"row",justifyContent:"space-between",alignItems:"center",children:[/*#__PURE__*/m(M,A({direction:"row"},r,n,{children:o.length>0&&o.map((e,t)=>/*#__PURE__*/m(se,A({},c,e),t))})),/*#__PURE__*/m(M,A({direction:"row"},r,l,{children:i.length>0&&i.map((e,t)=>/*#__PURE__*/m(se,A({},c,e),t))})),/*#__PURE__*/m(M,A({direction:"row"},r,s,{children:a.length>0&&a.map((e,t)=>/*#__PURE__*/m(se,A({},c,e),t))}))]})}function me(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Object.is(e[r[o]],t[r[o]]))return!1;return!0}se.defautProps={iconSize:18},ce.propTypes={leftItems:f.array,centerItems:f.array,rightItems:f.array},ce.defaultProps={sx:{p:1},contentProps:{spacing:.5},leftItems:[],centerItems:[],rightItems:[]};const ue=W(e=>({components:{},registerComponent:(t,r)=>e(E(e=>{e.components[t]=r}))})),de=ue.getState().components;function he(e,t){ue.getState().registerComponent(e,t)}function pe(e){const t=ue(t=>t.components[e.type],me);return t?/*#__PURE__*/m(t,A({},e)):null}const fe=["theme"],be=b("div")(e=>{let{theme:t}=e,r=L(e,fe);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.paper,"& .PageSide-wrapper":A({display:"flex",flexDirection:"row",flex:"1 1 auto",minWidth:0,height:"100%"},"content"===r.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0}),"& .PageSide-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:"1 1 auto"},"& .PageSide-content":{display:"flex",flexDirection:"column",flex:"1 1 auto",minHeight:0,overflowY:"auto"}}});function ge(e){var t,r,n;o(null),o(null),o(null);const i=l(()=>v([e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems],e=>!T(e)),[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),a=l(()=>A({},e.toolbarProps,{leftItems:e.leftToolbarItems,centerItems:e.centerToolbarItems,rightItems:e.rightToolbarItems}),[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),s=l(()=>v([e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems],e=>!T(e)),[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),c=l(()=>A({},e.subToolbarProps,{leftItems:e.leftSubToolbarItems,centerItems:e.centerSubToolbarItems,rightItems:e.rightSubToolbarItems}),[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),d={title:e.headerTitle};/*#__PURE__*/return u(be,{className:h("PageSide-root",`PageSide-scroll-${e.scroll}`,e.className),scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:[/*#__PURE__*/u("div",{className:"PageSide-wrapper",children:[e.leftSidebarContent&&/*#__PURE__*/m("div",{children:"leftSidebarContent"}),/*#__PURE__*/u(M,A({},e.contentWrapperProps,{className:h("PageSide-contentWrapper",null==(t=e.contentWrapperProps)?void 0:t.className),divider:/*#__PURE__*/m(N,{}),children:[e.header&&(w(e.header)?/*#__PURE__*/m(pe,A({type:"PageSideHeader"},d)):e.header),e.subHeader&&e.subHeader,(e.toolbar||i)&&(null!=(r=e.toolbar)?r:/*#__PURE__*/m(ce,A({},a))),(e.subToolbar||s)&&(null!=(n=e.subToolbar)?n:/*#__PURE__*/m(ce,A({},c))),e.content&&/*#__PURE__*/m("div",{className:h("PageSide-content container"),children:e.content}),e.footer&&/*#__PURE__*/m("div",{children:"Footer"})]}))]}),e.rightSidebarContent&&/*#__PURE__*/m("div",{children:"rightSidebarContent"})]})}ge.propTypes={contentWrapperProps:p.object,leftSidebarContent:p.node,leftSidebarVariant:p.node,rightSidebarContent:p.node,rightSidebarVariant:p.node,header:p.oneOfType([p.node,p.bool]),subHeader:p.node,toolbar:p.node,toolbarProps:p.object,leftToolbarItems:p.array,centerToolbarItems:p.array,rightToolbarItems:p.array,subToolbar:p.node,subToolbarProps:p.object,leftSubToolbarItems:p.array,centerSubToolbarItems:p.array,rightSubToolbarItems:p.array,content:p.node,scroll:p.oneOf(["normal","page","content"]),leftSidebarOpen:p.bool,rightSidebarOpen:p.bool,leftSidebarWidth:p.number,rightSidebarWidth:p.number,rightSidebarOnClose:p.func,leftSidebarOnClose:p.func},ge.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240};var Ie=F();export{pe as Component,le as ContextMenu,q as FuseSvgIcon,Q as Layout,ge as PageSide,ce as Toolbar,se as ToolbarItem,R as Tooltip,de as components,Ie as emitter,G as layoutComponents,he as registerComponent,J as registerLayout};
//# sourceMappingURL=index.js.map
