import*as e from"react";import t,{memo as n,forwardRef as r,useRef as o,useImperativeHandle as i,useState as l,useMemo as a,useCallback as s,useEffect as c,isValidElement as u}from"react";import m from"@tippyjs/react";import{jsx as d,jsxs as p,Fragment as h}from"react/jsx-runtime";import f from"clsx";import*as b from"prop-types";import g from"prop-types";import{styled as y}from"@mui/material/styles";import{Box as I}from"@mui/system";import v from"@mui/material/Icon";import{includes as S,replace as C,some as T,isEmpty as w,isBoolean as P,pick as x,reject as z,isArray as O,map as N}from"lodash";import{Box as k,MenuItem as j,ListItemIcon as E,ListItemText as W,Divider as M,Menu as F,IconButton as H,Stack as D,styled as B,LinearProgress as R,Typography as A}from"@mui/material";import Y from"zustand";import X from"immer";import{createNanoEvents as L}from"nanoevents";import{useDebounce as V}from"react-use";import $ from"@mui/material/Menu";import{ChevronRight as K}from"@mui/icons-material";function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}const J=["title","children"];function Q(e){let{title:t,children:n}=e,r=G(e,J);if(!t)return n;const o=q({theme:"light",animation:"scale",content:t,trigger:"mouseenter"},r);/*#__PURE__*/return d(m,q({},o,{children:n}))}var U=/*#__PURE__*/n(Q);const Z=["theme"],_=["children","className","size"],ee=y(I)(e=>{let{theme:t}=e,n=G(e,Z);return{width:n.size,height:n.size,minWidth:n.size,minHeight:n.size,fontSize:n.size,lineHeight:n.size,color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[n.color]}}),te=/*#__PURE__*/r((e,t)=>{if(!e.children.includes(":"))/*#__PURE__*/return d(v,q({ref:t},e));const n=e.children.replace(":",".svg#");/*#__PURE__*/return d(ee,q({},e,{component:"svg",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",className:f("shrink-0 fill-current ",e.className),ref:t,size:e.size,sx:e.sx,color:e.color,children:/*#__PURE__*/d("use",{xlinkHref:`assets/icons/${n}`})}))});function ne(e){let{children:t,className:n,size:r}=e,o=G(e,_),i={children:t};return t&&S(t,"fontawesome-")&&(i.children=void 0,i.baseClassName="",i.className=C(t,"fontawesome-","fa-"),i.className=C(i.className,":"," fa-"),i.className=["w-inherit",i.className,n].join(" "),r&&(i.sx={width:r,height:r,minWidth:r,minHeight:r,fontSize:r})),n&&T(["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone"],e=>S(n,e))&&(i.baseClassName=""),/*#__PURE__*/d(te,q({className:n},i,{size:r},o))}te.propTypes={children:g.string,size:g.oneOfType([g.number,g.string]),sx:g.object,color:g.oneOf(["inherit","disabled","primary","secondary","action","error","info","success","warning"])},te.defaultProps={children:"",size:24,sx:{},color:"inherit"};const re={};function oe(e,t){re[e]=t}function ie(e){const t=re[e.name];return t?/*#__PURE__*/d(t,q({},e)):/*#__PURE__*/d(k,{p:2,children:"Not Found"})}const le=["leftIcon","rightIcon","label","MenuItemProps","className","visible"],ae=y(j)({});var se=/*#__PURE__*/r((e,t)=>{let{leftIcon:n,rightIcon:r,label:o,className:i}=e,l=G(e,le);/*#__PURE__*/return p(ae,q({ref:t,className:i},l,{children:[n&&/*#__PURE__*/d(E,{children:n}),/*#__PURE__*/d(W,{children:o}),r&&/*#__PURE__*/d(E,{className:"flex justify-end",children:r})]}))});const ce=["parentMenuOpen","label","rightIcon","leftIcon","children","className","tabIndex","ContainerProps"],ue=["ref"];var me=/*#__PURE__*/t.forwardRef(function(e,t){const{parentMenuOpen:n,label:r,rightIcon:a=/*#__PURE__*/d(K,{color:"disabled",fontSize:"small"}),leftIcon:s=null,children:c,className:u,tabIndex:m,ContainerProps:h={}}=e,f=G(e,ce),{ref:b}=h,g=G(h,ue),y=o(null);i(t,()=>y.current);const I=o(null);i(b,()=>I.current);const v=o(null),[S,C]=l(!1),T=()=>{const e=I.current.ownerDocument.activeElement;for(const t of v.current.children)if(t===e)return!0;return!1},w=S&&n;let P;return e.disabled||(P=void 0!==m?m:-1),/*#__PURE__*/p("div",q({},g,{ref:I,onFocus:e=>{e.target===I.current&&C(!0),g.onFocus&&g.onFocus(e)},tabIndex:P,onMouseEnter:e=>{C(!0),g.onMouseEnter&&g.onMouseEnter(e)},onMouseLeave:e=>{C(!1),g.onMouseLeave&&g.onMouseLeave(e)},onKeyDown:e=>{if("Escape"===e.key)return;T()&&e.stopPropagation();const t=I.current.ownerDocument.activeElement;"ArrowLeft"===e.key&&T()&&I.current.focus(),"ArrowRight"===e.key&&e.target===I.current&&e.target===t&&v.current.children[0].focus()},children:[/*#__PURE__*/d(se,{MenuItemProps:f,className:u,ref:y,leftIcon:s,rightIcon:a,label:r}),/*#__PURE__*/d($,{style:{pointerEvents:"none"},anchorEl:y.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:w,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:()=>{C(!1)},children:/*#__PURE__*/d("div",{ref:v,style:{pointerEvents:"auto"},children:c})})]}))});const de=["divider"],pe=["items","onClick"];function he({items:e,onClose:t,open:n}){return e.map((e,r)=>{let{divider:o}=e,i=G(e,de);if(o)/*#__PURE__*/return d(M,{sx:{my:.5}},r);const{items:l,onClick:a}=i,s=G(i,pe);return l&&l.length>0?/*#__PURE__*/d(me,q({},s,{parentMenuOpen:n,children:/*#__PURE__*/d(he,{open:n,items:l,onClose:t})}),r):/*#__PURE__*/d(se,q({},s,{onClick:()=>{t(),a&&a()}}),r)})}function fe({position:e,items:t,children:n,onClose:r}){const i=o(null),[u,m]=l(null),h=a(()=>null!==u,[u]),f=a(()=>h?{top:u.mouseY,left:u.mouseX}:void 0,[h,u]),b=s(()=>{r&&r(),h&&m(null)},[h]);return c(()=>{e&&m({mouseX:e.clientX+2,mouseY:e.clientY-6})},[e]),/*#__PURE__*/p("div",{ref:i,onContextMenu:e=>{e.preventDefault(),m(null===u?{mouseX:e.clientX+2,mouseY:e.clientY-6}:null)},children:[!w(t)&&/*#__PURE__*/d(F,{open:h,onClose:b,anchorReference:"anchorPosition",anchorPosition:f,disableAutoFocusItem:!0,children:/*#__PURE__*/d(he,{open:h,items:t,onClose:b})}),n]})}he.propTypes={items:g.array},fe.propTypes={items:g.array};const be=["icon","label","visible","onClick","btnSize","iconSize","items","color"];function ge(e){const{icon:t,label:n,visible:r=!0,onClick:o,btnSize:i,iconSize:s,items:c=[],color:u}=e;G(e,be);const m=P(e.tooltip)?n:e.tooltip,f=a(()=>r&&t,[r,t]),[b,g]=l(null),y=Boolean(b),I=(e,t)=>{g(null),t&&t()},v=f&&/*#__PURE__*/d(H,{size:i,onClick:e=>w(c)?o&&o(e):g(e.currentTarget),color:u,children:t&&/*#__PURE__*/d(ne,{size:s,children:t})}),S=f&&!w(c)&&/*#__PURE__*/d(F,{open:y,anchorEl:b,onClose:e=>I(),transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:c.map((e,t)=>/*#__PURE__*/p(j,{onClick:t=>I(0,e.onClick),children:[e.icon&&/*#__PURE__*/d(E,{children:/*#__PURE__*/d(ne,{children:e.icon})}),e.label&&/*#__PURE__*/d(W,{children:e.label})]},t))});/*#__PURE__*/return p(h,m&&f?{children:[/*#__PURE__*/d(U,{title:m,children:v}),S]}:{children:[v,S]})}function ye(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}ge.defautProps={iconSize:18};const Ie=["case","defaultCase"];function ve(e){let{case:t,defaultCase:n}=e,r=G(e,Ie);/*#__PURE__*/return u(t)?t:function(e){return"function"==typeof e&&!!e.prototype.isReactComponent}(o=t)||function(e){return"function"==typeof e&&String(e).includes("return React.createElement")}(o)?/*#__PURE__*/d(t,{}):/*#__PURE__*/d(n,q({},r,t));var o}function Se(e){const{sx:t,contentProps:n,leftItems:r,leftContentProps:o,centerItems:i,centerContentProps:l,rightItems:a,rightContentProps:s}=e,c=x(e,["btnSize","iconSize"]);/*#__PURE__*/return p(D,{sx:t,direction:"row",justifyContent:"space-between",alignItems:"center",children:[/*#__PURE__*/d(D,q({direction:"row"},n,o,{children:r.length>0&&r.map((e,t)=>/*#__PURE__*/d(ve,q({case:e,defaultCase:ge},c),t))})),/*#__PURE__*/d(D,q({direction:"row"},n,l,{children:i.length>0&&i.map((e,t)=>/*#__PURE__*/d(ve,q({case:e,defaultCase:ge},c),t))})),/*#__PURE__*/d(D,q({direction:"row"},n,s,{children:a.length>0&&a.map((e,t)=>/*#__PURE__*/d(ve,q({case:e,defaultCase:ge},c),t))}))]})}function Ce({items:e,anchorEl:t,setAnchorEl:n}){const r=Boolean(t),o=(e,t)=>{n(null),t&&t()};/*#__PURE__*/return d(F,{open:r,anchorEl:t,onClose:e=>o(),transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:null==e?void 0:e.map((e,t)=>/*#__PURE__*/p(j,{onClick:t=>o(0,e.onClick),children:[e.icon&&/*#__PURE__*/d(E,{children:/*#__PURE__*/d(ne,{children:e.icon})}),e.label&&/*#__PURE__*/d(W,{children:e.label})]},t))})}Se.propTypes={leftItems:g.array,centerItems:g.array,rightItems:g.array},Se.defaultProps={sx:{p:1},contentProps:{spacing:.5},leftItems:[],centerItems:[],rightItems:[]};const Te=/*#__PURE__*/e.forwardRef((e,t)=>{const{tooltip:n,color:r,icon:o,onClick:i,children:s,visible:c,items:u,type:m}=e,[f,b]=l(null),g=a(()=>z(u,e=>!1===e.visible),[u]),y=a(()=>O(u)?!w(g):c,[c,u,g]),I=a(()=>y&&o,[y,o]),v={sx:x(e,["fontSize"])};return I&&/*#__PURE__*/p(h,{children:[/*#__PURE__*/d(U,{title:n,children:/*#__PURE__*/d(H,{onClick:e=>w(g)?i&&i(e):b(e.currentTarget),color:r,type:m,ref:t,children:s||/*#__PURE__*/d(ne,q({},v,{children:o}))})}),I&&!w(g)&&/*#__PURE__*/d(Ce,{items:g,anchorEl:f,setAnchorEl:b})]})});Te.defaultProps={visible:!0,onClick:()=>{}},Te.propTypes={tooltip:g.string,color:g.string,icon:g.string,visible:g.bool,fontSize:g.number,onClick:g.func,items:g.array};var we=Te;const Pe=Y(e=>({components:{},registerComponent:(t,n)=>e(X(e=>{e.components[t]=n}))})),xe=Pe.getState().components;function ze(e,t){Pe.getState().registerComponent(e,t)}function Oe(e){const t=Pe(t=>t.components[e.type],ye);return t?/*#__PURE__*/d(t,q({},e)):null}const Ne=["theme"],ke=B("div")(e=>{let{theme:t}=e,n=G(e,Ne);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.paper,"& .PageSide-wrapper":q({display:"flex",flexDirection:"row",flex:"1 1 auto",minWidth:0,height:"100%"},"content"===n.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0}),"& .PageSide-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",height:"100%",flex:"1 1 auto"},"& .PageSide-content":{display:"flex",flexDirection:"column",flex:"1 1 auto",minHeight:0,overflowY:"auto",backgroundColor:t.palette.background.default}}});function je(e){var t,n,r,o;const i=a(()=>T([e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems],e=>!w(e)),[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),l=a(()=>q({},e.toolbarProps,{leftItems:e.leftToolbarItems,centerItems:e.centerToolbarItems,rightItems:e.rightToolbarItems}),[e.leftToolbarItems,e.centerToolbarItems,e.rightToolbarItems]),s=a(()=>T([e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems],e=>!w(e)),[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),c=a(()=>q({},e.subToolbarProps,{leftItems:e.leftSubToolbarItems,centerItems:e.centerSubToolbarItems,rightItems:e.rightSubToolbarItems}),[e.leftSubToolbarItems,e.centerSubToolbarItems,e.rightSubToolbarItems]),u={title:e.headerTitle};/*#__PURE__*/return p(ke,{className:f("PageSide-root",`PageSide-scroll-${e.scroll}`,e.className),scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:[/*#__PURE__*/p("div",{className:"PageSide-wrapper",children:[e.leftSidebarContent&&/*#__PURE__*/d("div",{children:"leftSidebarContent"}),/*#__PURE__*/p(D,q({},e.contentWrapperProps,{className:f("PageSide-contentWrapper",null==(t=e.contentWrapperProps)?void 0:t.className),divider:/*#__PURE__*/d(M,{}),children:[e.header&&(P(e.header)?/*#__PURE__*/d(Oe,q({type:"PageSideHeader"},u)):e.header),e.subHeader&&e.subHeader,(e.toolbar||i)&&(null!=(n=e.toolbar)?n:/*#__PURE__*/d(Se,q({},l))),(e.subToolbar||s)&&(null!=(r=e.subToolbar)?r:/*#__PURE__*/d(Se,q({},c))),e.content&&/*#__PURE__*/p("div",{className:f(f("PageSide-content container",null==(o=e.contentProps)?void 0:o.className)),children:[e.loading&&/*#__PURE__*/d(R,{}),e.content]}),e.footer&&/*#__PURE__*/d("div",{children:"Footer"})]}))]}),e.rightSidebarContent&&/*#__PURE__*/d("div",{children:"rightSidebarContent"})]})}function Ee(e){const t=x(e,["direction","spacing"]),n=x(e,["size","color","fontSize","visible"]);/*#__PURE__*/return d(D,q({},t,{children:e.items.map((e,t)=>/*#__PURE__*/d(we,q({},n,e),t))}))}je.propTypes={contentWrapperProps:b.object,leftSidebarContent:b.node,leftSidebarVariant:b.node,rightSidebarContent:b.node,rightSidebarVariant:b.node,header:b.oneOfType([b.node,b.bool]),subHeader:b.node,toolbar:b.node,toolbarProps:b.object,leftToolbarItems:b.array,centerToolbarItems:b.array,rightToolbarItems:b.array,subToolbar:b.node,subToolbarProps:b.object,leftSubToolbarItems:b.array,centerSubToolbarItems:b.array,rightSubToolbarItems:b.array,content:b.node,scroll:b.oneOf(["normal","page","content"]),leftSidebarOpen:b.bool,rightSidebarOpen:b.bool,leftSidebarWidth:b.number,rightSidebarWidth:b.number,rightSidebarOnClose:b.func,leftSidebarOnClose:b.func},je.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240},Ee.defaultProps={direction:"row",spacing:.5},je.propTypes={direction:g.string,spacing:g.number,items:g.array};const We=["theme"],Me=["content","classes","className"],Fe=y(k)(e=>{let{theme:t}=e,n=G(e,We);return{display:"inline-block",justifyContent:"center",alignContent:"center",color:"white",borderRadius:10,padding:"0 6px",minWidth:20,height:20,backgroundColor:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[n.color]}}),He=/*#__PURE__*/r((e,t)=>{const{content:n,classes:r,className:o}=e,i=G(e,Me);/*#__PURE__*/return d(Fe,q({className:f(null==r?void 0:r.root,o)},i,{ref:t,children:n}))});He.defaultProps={component:A};var De=He,Be=L();function Re(e){c(function(){return N(e,(e,t)=>Be.on(t,e)),function(){N(e,(e,t)=>delete Be[t])}},[Be,e])}function Ae(e="",{wait:t=500}={}){const[n,r]=l(e),[o,i]=l("");return V(()=>i(n),t,[n]),[o,r,{value:n,onChange:e=>r(e.target.value)}]}export{De as Badge,Oe as Component,fe as ContextMenu,ne as FuseSvgIcon,we as IconButton,Ee as IconButtonGroup,ie as Layout,je as PageSide,Se as Toolbar,ge as ToolbarItem,U as Tooltip,xe as components,Be as emitter,re as layoutComponents,ze as registerComponent,oe as registerLayout,Ae as useDebouncedInput,Re as useEvents};
//# sourceMappingURL=index.js.map
